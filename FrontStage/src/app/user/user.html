<div class="container mt-5">
  <div class="card text-center shadow rounded-4 border-0">
    <div class="card-header bg-light text-dark border-bottom">
      <h2 class="mb-0">Student Dashboard</h2>
    </div>

    <div class="card-body">
      <p class="text-muted">Welcome to your personal dashboard</p>

      <!-- My Courses Section -->
      <div class="row mt-4">
        <div class="col-12 mb-4">
          <div class="card h-100 shadow-sm border-0 rounded-3">
            <div class="card-header bg-white text-dark border-bottom d-flex justify-content-between align-items-center">
              <h5 class="mb-0">My Courses</h5>
              <a class="btn btn-sm btn-outline-secondary" routerLink="/courses">Browse</a>
            </div>
            <ul class="list-group list-group-flush" *ngIf="user?.courses?.length > 0; else noCourses">
              <li class="list-group-item d-flex justify-content-between align-items-center"
                  *ngFor="let course of user.courses">
                <span>{{ course.title }}</span>
                <button class="btn btn-outline-primary btn-sm" [routerLink]="['/courses', course.id]">
                  <i class="bi bi-eye me-1"></i> View
                </button>
              </li>
            </ul>
            <ng-template #noCourses>
              <div class="card-body text-muted">No enrolled courses yet.</div>
            </ng-template>
          </div>
        </div>
      </div>

      <!-- My Certifications Section -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card h-100 shadow-sm border-0 rounded-3">
            <div class="card-header bg-white text-dark border-bottom d-flex justify-content-between align-items-center">
              <h5 class="mb-0">My Certifications</h5>
              <a class="btn btn-sm btn-outline-secondary" routerLink="/certifications">Browse</a>
            </div>
            <ul class="list-group list-group-flush" *ngIf="user?.certifications?.length > 0; else noCerts">
              <li class="list-group-item d-flex justify-content-between align-items-center"
                  *ngFor="let cert of user.certifications">
                <div>
                  <span>{{ cert.title }}</span>
                  <div class="text-muted small">{{ cert.duration }}</div>
                </div>
                <button class="btn btn-outline-primary btn-sm" (click)="download(cert)">
                  <i class="bi bi-download me-1"></i> Download
                </button>
              </li>
            </ul>
            <ng-template #noCerts>
              <div class="card-body text-muted">No certifications yet.</div>
            </ng-template>
          </div>
        </div>
      </div>

      <!-- Toast Notification -->
      <div class="toast-container position-fixed bottom-0 end-0 p-3" *ngIf="showToast" style="z-index: 1055">
        <div class="toast show align-items-center text-white bg-primary border-0 shadow" role="alert">
          <div class="d-flex">
            <div class="toast-body">{{ toastMessage }}</div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" (click)="showToast = false"></button>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="card-footer bg-light text-muted border-top">
        Member since: {{ joinDate | date:'fullDate' }}
      </div>
    </div>
  </div>
</div>
